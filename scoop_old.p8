pico-8 cartridge // http://www.pico-8.com
version 15
__lua__

--
-- game loop.
--

function _init()
 local o = ocean.new()

 actors = {
  boat = boat.new(o),
  ocean = o,
 }
end

function _update60()
 ocean.update(actors.ocean)
 boat.update(actors.boat)
end

function _draw()
 cls(0)
 ocean.draw(actors.ocean)
 boat.draw(actors.boat)
end
-->8

--
-- boat.
--

boat = {}

function boat.new(ocean)
 return {
  x = 50,
  y = ocean.y,
  ocean = ocean,
  t = 0,
  offset = 0,
 }
end

function boat.update(s)
 s.t += 0.005
 s.t %= 1
 s.offset = 2*sin(s.t)
 s.y = s.ocean.y + s.offset
end

function boat.draw(s)
 -- n, x, y, w, h
 spr(1, s.x, s.y, 4, 2)
end
-->8

--
-- ocean.
--

ocean = {}

function ocean.new()
 return {
  dy = -0.2,
  y = 50,
 }
end

function ocean.update(s)
end

function ocean.draw(s)
 -- print(s.tide)
 rectfill(0, 50, 127, 127, 12)
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000444444444444444444444444444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700044444444444444444444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000004444444444444444444444444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000444444444444444444444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000044444444444444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000004444444444444444444444000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000444444444444444444440000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000044444444444444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
